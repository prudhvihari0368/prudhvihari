
<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="assets/favicon.png" type="image/x-icon">
  <link rel="shortcut icon" href="assets/favicon.png" type="image/x-icon">
  <title>Pre Order Food</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 0px 0px 50px 0px;
    }

    h1 {
      font-size: 24px;
      text-align: center;
    }

    h2 {
      font-size: 20px;
      margin-bottom: 10px;
    }

    p {
      margin-bottom: 5px;
    }
    
    header {
    text-align: center;
    margin-bottom: 20px;
    }
    
    header img {
        max-width: 100px;
        height: auto;
    }
    
    header h1 {
        color: #333;
    }

    table {
      border-collapse: collapse;
      margin-bottom: 10px;
      margin : 0 auto; 
      max-width:100%;
    }

    th, td {
      padding: 5px;
      border: 1px solid #ddd;
      width: max-content;
    }
    
    .banner {
        text-align: center;    
        background-color: #000;
    }
    
    .banner img {
      width: 90%;
      height: auto;
      padding:10px;
      max-width: 400px;
    }
    
    td:last-child{
        width : 15%;
        text-align:right;
    }

    @media only screen and (max-width: 600px) {
      body {
        margin: 10px;
      }

      h1 {
        font-size: 20px;
      }

      h2 {
        font-size: 18px;
      }

      table {
        font-size: 14px;
      }
      
      table img{
          max-width: 100%;
      }
      
      table tbody td:nth-child(3){
         width: 22%;
         text-align:right;
      }
    }
    
    table tbody tr:nth-child(4){
        font-size : 1rem;
        font-weight: bold;
    }
    
    .footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background-color: #f0f0f0; /* Customize the background color of the footer */
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .footer img {
        height: 20px; /* Adjust the height of the logo as needed */
        margin-right: 5px; /* Add some spacing between the text and the logo */
        margin-left: 5px;
    }

    .footer span {
        font-size: 14px; /* Adjust the font size of the "Powered by" text as needed */
    }
    
    .quantity-input {
        display: flex;
        align-items: center;
    }

    .btn-decrement,
    .btn-increment,
    input {
        border: none;
        font-size: 18px;
        width: 35px;
        height: 35px;
        text-align: center;
        margin: 3px;
        font-weight: bold;
    }

    .btn-decrement,
    .btn-increment {
        cursor: pointer;
        margin: 0;
        border-radius: 50%;
    }

    .btn-decrement{
        background-color: #cccccc;
    }
    .btn-increment{
        background-color: #87d37c;
    }

    .payBtn {
        background-color: #4caf50;
        color: white;
        height: 60px;
        border: none;
        padding: 12px 20px;
        font-size: 18px;
        border: none;
        max-width: 400px;
        text-align: center;
        margin-top: 20px;
        margin-bottom: 20px;
        border-radius: 10px;
        cursor: pointer;
    }
    
    .skipPayBtn
    {
        background-color: #e57373;
        color: white;
        height: 60px;
        border: none;
        padding: 12px 20px;
        font-size: 18px;
        border: none;
        max-width: 400px;
        text-align: center;
        margin-top: 20px;
        margin-bottom: 20px;
        border-radius: 10px;
        cursor: pointer;
    }
    
  </style>
</head>
<body>
  <div class="banner">
    <img src="assets/SavinayEntertainmentLogo.png" alt="Event Banner">
  </div>
  <h1>Nathuram Godse Play</h1>
  
  <header>
    <img src="assets/tkp_logo.svg" alt="The Kauphy Place">
    <h1>Pre-Order Your Delicious Meal</h1>
    <p>Indulge in a culinary experience with our pre-ordering service. Secure your favorite dishes in advance and savor the anticipation!</p>
  </header>

    <table>
        <thead>
            <tr>
                <th>Food</th>
                <th>Quantity</th>
                <th>Cost</th>
            </tr>
        </thead>
        <tbody>
            <tr>
            <td><div><span><img src="assets/tkp_vadaapav_tea.png" alt="tkp_vadaapav_tea.png"></span><span><h3>2 Vada Paav and 1 Tea @ $12.00</h3><p>2 Vada Paav and 1 Tea</p></span></div><div><h4>Only Available In the Interval</h4></div></td>
            <td>
                <div class="quantity-input">
                    <button class="btn-decrement" data-target="quantity_1">-</button>
                    <input type="text" class="quantity" id="quantity_1" min="0" readonly value="0">
                    <button class="btn-increment" data-target="quantity_1">+</button>
                </div>
            </td>
            <td id="total_cost_1">$0.00</td>
        </tr><tr>
            <td><div><span><img src="assets/tkp_tea.png" alt="tkp_tea.png"></span><span><h3>Tea @ $4.00</h3><p>Additional Tea</p></span></div><div><h4>Only Available In the Interval</h4></div></td>
            <td>
                <div class="quantity-input">
                    <button class="btn-decrement" data-target="quantity_2">-</button>
                    <input type="text" class="quantity" id="quantity_2" min="0" readonly value="0">
                    <button class="btn-increment" data-target="quantity_2">+</button>
                </div>
            </td>
            <td id="total_cost_2">$0.00</td>
        </tr><tr>
            <td><div><span><img src="assets/tkp_takeaway_meal_box.png" alt="tkp_takeaway_meal_box.png"></span><span><h3>After Show Dinner Takeaway box @ $12.00</h3><p>Rice, paneer butter masala and daal tadka</p></span></div><div><h4>Only Available After Show as Dinner Takeaway box</h4></div></td>
            <td>
                <div class="quantity-input">
                    <button class="btn-decrement" data-target="quantity_3">-</button>
                    <input type="text" class="quantity" id="quantity_3" min="0" readonly value="0">
                    <button class="btn-increment" data-target="quantity_3">+</button>
                </div>
            </td>
            <td id="total_cost_3">$0.00</td>
        </tr>            <tr>
                <td colspan="2" style="text-align: right"><h3>Total Food Cost</h3></td>
                <td id="totalCost"><h3>$0.00</h3></td>
            </tr>
        </tbody>
    </table>

  
    <div class="note" style="text-align:center;font-size: 1rem;">
	    <span>
	        
	    </span>
	    <button class="skipPayBtn" onclick="skippedAndRedirectToPaymentGateway()">Skip</button>
	    <button class="payBtn" onclick="addedAndRedirectToPaymentGateway()">Check Out</button>
    </div>
  

  <script>
    
    function skippedAndRedirectToPaymentGateway() {
      // Redirect the user to the home screen
      window.location.href = "https://klubgdc.com.au/savinay/order_summary.php?pof=0&tid=8628";
    }
    
    function addedAndRedirectToPaymentGateway() {
        // alert("Fire in the hole");
      // Redirect the user to the home screen
        const url = 'https://www.klubgdc.com.au/savinay/add_pre_order_food.php';

        const params = {
          qty_product_1: document.getElementById('quantity_1').value,qty_product_2: document.getElementById('quantity_2').value,qty_product_3: document.getElementById('quantity_3').value,          tId: 8628        };
        
        fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            // You may need to add additional headers based on your server requirements
          },
          body: JSON.stringify(params)
        })
          .then(response => response.json())
          .then(data => {
            // Handle the response data here
            console.log(data);
    		
    		let path = "order_summary.php?pof=1&tid=8628";
    
            console.log(path);
            window.location.href = path;
    
    		// Use SweetAlert2 to display a custom modal
    	// 	Swal.fire({
    	// 		icon: "success",
    	// 		title: "Selected Seats",
    	// 		text: jsonData,
    	// 		customClass: {
    	// 			popup: "custom-alert",
    	// 		},
    	// 	});
    
    	// 	console.log("Selected Seats Data:", selectedSeatsData);
    
    	// 	// Update the table with selected seat data
    	// 	updateSelectedSeatsTable(selectedSeatsData);
          })
          .catch(error => {
            // Handle errors here
            console.error('Error:', error);
          });
    }
  </script>
  <div class="footer">
    <span>Powered by</span>
    <a href="https://klubgdc.com.au/privacy/"><img src="https://klubgdc.com.au/wp-content/uploads/2023/03/klubgdc_logo_black.svg" alt="Logo"></a>
  </div>
  <script>
        // Fetch the desired number from another webpage
        // In this example, it's a hardcoded value. Replace it with your logic to fetch the number dynamically.
        const desiredNumber = 2 ;

        document.querySelectorAll('.btn-increment').forEach(button => {
            button.addEventListener('click', () => {
                const targetInput = button.dataset.target;
                const inputElement = document.getElementById(targetInput);
                const currentValue = parseInt(inputElement.value, 10);

                if (currentValue < desiredNumber * 3) {
                    inputElement.value = currentValue + 1;
                    updateCost(targetInput);
                }
                updateIncrementButtonStyle(targetInput); // Update the style on increment
            });
        });

        document.querySelectorAll('.btn-decrement').forEach(button => {
            button.addEventListener('click', () => {
                const targetInput = button.dataset.target;
                const inputElement = document.getElementById(targetInput);
                const currentValue = parseInt(inputElement.value, 10);
                if (currentValue > 0) {
                    inputElement.value = currentValue - 1;
                    updateCost(targetInput);
                }
                updateDecrementButtonStyle(targetInput); // Update the style on decrement
                updateIncrementButtonStyle(targetInput); // Update the style on decrement
            });
        });

        function updateDecrementButtonStyle(targetId) {
            const decrementButton = document.querySelector(`.btn-decrement[data-target="${targetId}"]`);
            const quantity = parseInt(document.getElementById(targetId).value, 10);

            if (quantity > 0) {
                decrementButton.style.backgroundColor = '#e57373'; // Blue color
                decrementButton.style.color = '#fff'; // White text color
            } else {
                decrementButton.style.backgroundColor = '#ccc'; // Grey color
                decrementButton.style.color = '#000'; // Black text color
            }
        }

        function updateIncrementButtonStyle(targetId) {
            const incrementButton = document.querySelector(`.btn-increment[data-target="${targetId}"]`);
            const quantity = parseInt(document.getElementById(targetId).value, 10);

            if (quantity >= desiredNumber * 3) {
                incrementButton.style.backgroundColor = '#ccc'; // Grey color
                incrementButton.style.color = '#000'; // Black text color
                incrementButton.disabled = true;
            } else {
                incrementButton.style.backgroundColor = '#87d37c'; // Blue color
                incrementButton.style.color = '#fff'; // White text color
                incrementButton.disabled = false;
            }
        }

        function updateCost(targetId) {
            const quantityInput = document.getElementById(targetId);
            const quantity = parseInt(quantityInput.value, 10);
            let cost = 0;

            switch (targetId) {
                
                case 'quantity_1': cost = 12; break;case 'quantity_2': cost = 4; break;case 'quantity_3': cost = 12; break;                // Add more cases for additional rows
            }

            const totalCost = (quantity * cost).toFixed(2);
            const totalCostElement = document.getElementById(`total_cost_${targetId.slice(-1)}`);
            totalCostElement.textContent = `$${totalCost}`;

            // Update total cost
            updateTotalCost();
            // Update decrement button style
            updateDecrementButtonStyle(targetId);
            // Update increment button style
            updateIncrementButtonStyle(targetId);
        }

        function updateTotalCost() {
            const quantityInputs = document.querySelectorAll('.quantity');
            let totalCost = 0;

            quantityInputs.forEach(input => {
                const quantity = parseInt(input.value, 10);
                const targetId = input.id;
                let cost = 0;

                switch (targetId) {
                    case 'quantity_1': cost = 12; break;case 'quantity_2': cost = 4; break;case 'quantity_3': cost = 12; break;                    // Add more cases for additional rows
                }

                totalCost += quantity * cost;

                const totalCostElement = document.getElementById('totalCost');
                totalCostElement.textContent = `$${totalCost.toFixed(2)}`;
            });
        }
        function handleBackButton() {
        // Redirect the user to another page
        window.location.href = "https://klubgdc.com.au/savinay/cancel.php?tid=<t_id>"; // Replace "https://example.com" with your desired URL
    }

    // Add event listener to capture back button click
    window.onload = function() {
        history.pushState(null, null, location.href);
        window.onpopstate = function(event) {
            handleBackButton(); // Handle back button click
        };
    };
    </script>
</body>
</html>